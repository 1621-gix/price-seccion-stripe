<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Inc//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
    <dict>
        <key>PayloadVersion</key>
        <integer>1</integer>
        <key>PayloadDisplayName</key>
        <string>FrestyleðŸ‘¾</string>
        <key>el mejor Developers</key>
        <string>ConfðŸ¤‘</string>
        <key>PayloadUUID</key>
        <string>1111111</string>
        <key>PayloadIdentifier</key>
 <string>1</string>
        <key>PayloadType</key>
        <string>Configuration</string>
        <key>PayloadContent</key>
        <array>
            <dict>
                <key>DNSSettings</key>
                <dict>
                    <key>DNSProtocol</key>
                    <string>HTTPS</string>
                    <key>ServerURL</key>
                    <string>https://a15e718e.d.adguard-dns.com/dns-query</string>
                </dict>
                <key>PayloadVersion</key>
                <integer>1</integer>
                <key>PayloadDisplayName</key>
                <string>H4XðŸ”«</string>
                <key>el mejor</key>
                <string>GET UP</string>
                <key>PayloadIdentifier</key>
                <string>1</string>
                <key>PayloadUUID</key>
                <string>111111</string>
                <key>PayloadType</key>
                <string>com.apple.dnsSettings.managed</string>
            </dict>
        </array>
    </dict>
</plist>

LyogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLnNlbnNpdG91di5pbmplY3QKICogY29tLm1vbmFpaGQuaW5qZWN0CiAqIGNvbS5tb25haWhkLmluamVjdAogKiBjb20ubW9uYWloZC5pbmplY3QKICogY29tLm1vbmFpaGQuaW5qZWN0CiAqIGNvbS5tb25haWhkLmluamVjdAogKiBjb20ubW9uYWloZC5pbmplY3QKICogY29tLm1vbmFpaGQuaW5qZWN0CiAqIGNvbS5tb25haWhkLmluamVjdAogKiBjb20ubW9uYWloZC5pbmplY3QKICogY29tLmZwc2V4cC5pbmplY3QuaXBzCiAqIGNvbS5mcHNleHAuaW5qZWN0LmlwcwogKiBjb20uZnBzZXhwLmluamVjdC5pcHMKICogY29tLmZwc2V4cC5pbmplY3QuaXBzCiAqIGNvbS5mcHNleHAuaW5qZWN0LmlwcwogKiBjb20uZnBzZXhwLmluamVjdC5pcHMKICogY29tLmZwc2V4cC5pbmplY3QuaXBzCiAqIGNvbS5mcHNleHAuaW5qZWN0LmlwcwogKiBDb3B5cmlnaHQgMjAyMCBUaGUgQW5kcm9pZCBPcGVuIFNvdXJjZSBQcm9qZWN0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnBhY2thZ2UgYW5kcm9pZHguY29yZS5hcHA7CgppbXBvcnQgYW5kcm9pZC5hcHAuTm90aWZpY2F0aW9uOwppbXBvcnQgYW5kcm9pZC5hcHAuTm90aWZpY2F0aW9uQ2hhbm5lbDsKaW1wb3J0IGFuZHJvaWQuYXBwLk5vdGlmaWNhdGlvbkNoYW5uZWxHcm91cDsKaW1wb3J0IGFuZHJvaWQuY29udGVudC5JbnRlbnQ7CmltcG9ydCBhbmRyb2lkLm1lZGlhLkF1ZGlvQXR0cmlidXRlczsKaW1wb3J0IGFuZHJvaWQubmV0LlVyaTsKaW1wb3J0IGFuZHJvaWQub3MuQnVpbGQ7CmltcG9ydCBhbmRyb2lkLnByb3ZpZGVyLlNldHRpbmdzOwoKaW1wb3J0IGFuZHJvaWR4LmFubm90YXRpb24uRG9Ob3RJbmxpbmU7CmltcG9ydCBhbmRyb2lkeC5hbm5vdGF0aW9uLk5vbk51bGw7CmltcG9ydCBhbmRyb2lkeC5hbm5vdGF0aW9uLk51bGxhYmxlOwppbXBvcnQgYW5kcm9pZHguYW5ub3RhdGlvbi5SZXF1aXJlc0FwaTsKaW1wb3J0IGFuZHJvaWR4LmNvcmUuY29udGVudC5wbS5TaG9ydGN1dEluZm9Db21wYXQ7CmltcG9ydCBhbmRyb2lkeC5jb3JlLnV0aWwuUHJlY29uZGl0aW9uczsKCi8qKgogKiBBIHJlcHJlc2VudGF0aW9uIG9mIHNldHRpbmdzIHRoYXQgYXBwbHkgdG8gYSBjb2xsZWN0aW9uIG9mIHNpbWlsYXJseSB0aGVtZWQgbm90aWZpY2F0aW9ucy4KICoKICogU2V0dGVycyByZXR1cm4ge0Bjb2RlIHRoaXN9IHRvIGFsbG93IGNoYWluaW5nLgogKgogKiBUaGlzIGNsYXNzIGRvZXNuJ3QgZG8gYW55dGhpbmcgb24gb2xkZXIgU0RLcyB3aGljaCBkb24ndCBzdXBwb3J0IE5vdGlmaWNhdGlvbiBDaGFubmVscy4KICovCnB1YmxpYyBjbGFzcyBOb3RpZmljYXRpb25DaGFubmVsQ29tcGF0IHsKICAgIC8qKgogICAgICogVGhlIGlkIG9mIHRoZSBkZWZhdWx0IGNoYW5uZWwgZm9yIGFuIGFwcC4gVGhpcyBpZCBpcyByZXNlcnZlZCBieSB0aGUgc3lzdGVtLiBBbGwKICAgICAqIG5vdGlmaWNhdGlvbnMgcG9zdGVkIGZyb20gYXBwcyB0YXJnZXRpbmcge0BsaW5rIGFuZHJvaWQub3MuQnVpbGQuVkVSU0lPTl9DT0RFUyNOX01SMX0gb3IKICAgICAqIGVhcmxpZXIgd2l0aG91dCBhIG5vdGlmaWNhdGlvbiBjaGFubmVsIHNwZWNpZmllZCBhcmUgcG9zdGVkIHRvIHRoaXMgY2hhbm5lbC4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgREVGQVVMVF9DSEFOTkVMX0lEID0gIm1pc2NlbGxhbmVvdXMiOwoKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGJvb2xlYW4gREVGQVVMVF9TSE9XX0JBREdFID0gdHJ1ZTsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIGludCBERUZBVUxUX0xJR0hUX0NPTE9SID0gMDsKCiAgICAvLyBUaGVzZSBmaWVsZHMgYXJlIHNldHRhYmxlIHRocm91Z2ggdGhlIGJ1aWxkZXIKICAgIEBOb25OdWxsCiAgICBmaW5hbCBTdHJpbmcgbUlkOwogICAgQ2hhclNlcXVlbmNlIG1OYW1lOwogICAgaW50IG1JbXBvcnRhbmNlOwogICAgU3RyaW5nIG1EZXNjcmlwdGlvbjsKICAgIFN0cmluZyBtR3JvdXBJZDsKICAgIGJvb2xlYW4gbVNob3dCYWRnZSA9IERFRkFVTFRfU0hPV19CQURHRTsKICAgIFVyaSBtU291bmQgPSBTZXR0aW5ncy5TeXN0ZW0uREVGQVVMVF9OT1RJRklDQVRJT05fVVJJOwogICAgQXVkaW9BdHRyaWJ1dGVzIG1BdWRpb0F0dHJpYnV0ZXM7CiAgICBib29sZWFuIG1MaWdodHM7CiAgICBpbnQgbUxpZ2h0Q29sb3IgPSBERUZBVUxUX0xJR0hUX0NPTE9SOwogICAgYm9vbGVhbiBtVmlicmF0aW9uRW5hYmxlZDsKICAgIGxvbmdbXSBtVmlicmF0aW9uUGF0dGVybjsKICAgIFN0cmluZyBtUGFyZW50SWQ7CiAgICBTdHJpbmcgbUNvbnZlcnNhdGlvbklkOwoKICAgIC8vIFRoZXNlIGZpZWxkcyBhcmUgcmVhZC1vbmx5CiAgICBwcml2YXRlIGJvb2xlYW4gbUJ5cGFzc0RuZDsKICAgIHByaXZhdGUgaW50IG1Mb2Nrc2NyZWVuVmlzaWJpbGl0eTsKICAgIHByaXZhdGUgYm9vbGVhbiBtQ2FuQnViYmxlOwogICAgcHJpdmF0ZSBib29sZWFuIG1JbXBvcnRhbnRDb252ZXJzYXRpb247CgogICAgLyoqCiAgICAgKiBCdWlsZGVyIGNsYXNzIGZvciB7QGxpbmsgTm90aWZpY2F0aW9uQ2hhbm5lbENvbXBhdH0gb2JqZWN0cy4KICAgICAqLwogICAgcHVibGljIHN0YXRpYyBjbGFzcyBCdWlsZGVyIHsKICAgICAgICBwcml2YXRlIGZpbmFsIE5vdGlmaWNhdGlvbkNoYW5uZWxDb21wYXQgbUNoYW5uZWw7CgogICAgICAgIC8qKgogICAgICAgICAqIENyZWF0ZXMgYSBub3RpZmljYXRpb24gY2hhbm5lbCBidWlsZGVyLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIGlkICAgICAgICAgVGhlIGlkIG9mIHRoZSBjaGFubmVsLiBNdXN0IGJlIHVuaXF1ZSBwZXIgcGFja2FnZS4gVGhlIHZhbHVlIG1heSBiZQogICAgICAgICAqICAgICAgICAgICAgICAgICAgIHRydW5jYXRlZCBpZiBpdCBpcyB0b28gbG9uZy4KICAgICAgICAgKiBAcGFyYW0gaW1wb3J0YW5jZSBUaGUgaW1wb3J0YW5jZSBvZiB0aGUgY2hhbm5lbC4gVGhpcyBjb250cm9scyBob3cgaW50ZXJydXB0aXZlCiAgICAgICAgICogICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9ucyBwb3N0ZWQgdG8gdGhpcyBjaGFubmVsIGFyZS4KICAgICAgICAgKi8KICAgICAgICBwdWJsaWMgQnVpbGRlcihATm9uTnVsbCBTdHJpbmcgaWQsIGludCBpbXBvcnRhbmNlKSB7CiAgICAgICAgICAgIG1DaGFubmVsID0gbmV3IE5vdGlmaWNhdGlvbkNoYW5uZWxDb21wYXQoaWQsIGltcG9ydGFuY2UpOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogU2V0cyB0aGUgdXNlciB2aXNpYmxlIG5hbWUgb2YgdGhpcyBjaGFubmVsLgogICAgICAgICAqCiAgICAgICAgICogWW91IGNhbiByZW5hbWUgdGhpcyBjaGFubmVsIHdoZW4gdGhlIHN5c3RlbSBsb2NhbGUgY2hhbmdlcyBieSBsaXN0ZW5pbmcgZm9yIHRoZQogICAgICAgICAqIHtAbGluayBJbnRlbnQjQUNUSU9OX0xPQ0FMRV9DSEFOR0VEfSBicm9hZGNhc3QuCiAgICAgICAgICoKICAgICAgICAgKiA8cD5UaGUgcmVjb21tZW5kZWQgbWF4aW11bSBsZW5ndGggaXMgNDAgY2hhcmFjdGVyczsgdGhlIHZhbHVlIG1heSBiZSB0cnVuY2F0ZWQgaWYgaXQKICAgICAgICAgKiBpcyB0b28gbG9uZy4KICAgICAgICAgKi8KICAgICAgICBATm9uTnVsbAogICAgICAgIHB1YmxpYyBCdWlsZGVyIHNldE5hbWUoQE51bGxhYmxlIENoYXJTZXF1ZW5jZSBuYW1lKSB7CiAgICAgICAgICAgIG1DaGFubmVsLm1OYW1lID0gbmFtZTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBTZXRzIHRoZSBsZXZlbCBvZiBpbnRlcnJ1cHRpb24gb2YgdGhpcyBub3RpZmljYXRpb24gY2hhbm5lbC4KICAgICAgICAgKgogICAgICAgICAqIE9ubHkgbW9kaWZpYWJsZSBiZWZvcmUgdGhlIGNoYW5uZWwgaXMgc3VibWl0dGVkIHRvCiAgICAgICAgICoge0BsaW5rIE5vdGlmaWNhdGlvbk1hbmFnZXJDb21wYXQjY3JlYXRlTm90aWZpY2F0aW9uQ2hhbm5lbChOb3RpZmljYXRpb25DaGFubmVsQ29tcGF0KX0uCiAgICAgICAgICoKICAgICAgICAgKiBAcGFyYW0gaW1wb3J0YW5jZSB0aGUgYW1vdW50IHRoZSB1c2VyIHNob3VsZCBiZSBpbnRlcnJ1cHRlZCBieSBub3RpZmljYXRpb25zIGZyb20gdGhpcwogICAgICAgICAqICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuCiAgICAgICAgICovCiAgICAgICAgQE5vbk51bGwKICAgICAgICBwdWJsaWMgQnVpbGRlciBzZXRJbXBvcnRhbmNlKGludCBpbXBvcnRhbmNlKSB7CiAgICAgICAgICAgIG1DaGFubmVsLm1JbXBvcnRhbmNlID0gaW1wb3J0YW5jZTsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBTZXRzIHRoZSB1c2VyIHZpc2libGUgZGVzY3JpcHRpb24gb2YgdGhpcyBjaGFubmVsLgogICAgICAgICAqCiAgICAgICAgICogPHA+VGhlIHJlY29tbWVuZGVkIG1heGltdW0gbGVuZ3RoIGlzIDMwMCBjaGFyYWN0ZXJzOyB0aGUgdmFsdWUgbWF5IGJlIHRydW5jYXRlZCBpZiBpdCBpcwogICAgICAgICAqIHRvbyBsb25nLgogICAgICAgICAqLwogICAgICAgIEBOb25OdWxsCiAgICAgICAgcHVibGljIEJ1aWxkZXIgc2V0RGVzY3JpcHRpb24oQE51bGxhYmxlIFN0cmluZyBkZXNjcmlwdGlvbikgewogICAgICAgICAgICBtQ2hhbm5lbC5tRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBTZXRzIHdoYXQgZ3JvdXAgdGhpcyBjaGFubmVsIGJlbG9uZ3MgdG8uCiAgICAgICAgICoKICAgICAgICAgKiBHcm91cCBpbmZvcm1hdGlvbiBpcyBvbmx5IHVzZWQgZm9yIHByZXNlbnRhdGlvbiwgbm90IGZvciBiZWhhdmlvci4KICAgICAgICAgKgogICAgICAgICAqIE9ubHkgbW9kaWZpYWJsZSBiZWZvcmUgdGhlIGNoYW5uZWwgaXMgc3VibWl0dGVkIHRvCiAgICAgICAgICoge0BsaW5rIE5vdGlmaWNhdGlvbk1hbmFnZXJDb21wYXQjY3JlYXRlTm90aWZpY2F0aW9uQ2hhbm5lbChOb3RpZmljYXRpb25DaGFubmVsQ29tcGF0KX0sCiAgICAgICAgICogdW5sZXNzIHRoZSBjaGFubmVsIGlzIG5vdCBjdXJyZW50bHkgcGFydCBvZiBhIGdyb3VwLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIGdyb3VwSWQgdGhlIGlkIG9mIGEgZ3JvdXAgY3JlYXRlZCBieQogICAgICAgICAqICAgICAgICAgICAgICAgIHtAbGluayBOb3RpZmljYXRpb25NYW5hZ2VyQ29tcGF0I2NyZWF0ZU5vdGlmaWNhdGlvbkNoYW5uZWxHcm91cH0uCiAgICAgICAgICovCiAgICAgICAgQE5vbk51bGwKICAgICAgICBwdWJsaWMgQnVpbGRlciBzZXRHcm91cChATnVsbGFibGUgU3RyaW5nIGdyb3VwSWQpIHsKICAgICAgICAgICAgbUNoYW5uZWwubUdyb3VwSWQgPSBncm91cElkOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqIFNldHMgd2hldGhlciBub3RpZmljYXRpb25zIHBvc3RlZCB0byB0aGlzIGNoYW5uZWwgY2FuIGFwcGVhciBhcyBhcHBsaWNhdGlvbiBpY29uIGJhZGdlcwogICAgICAgICAqIGluIGEgTGF1bmNoZXIuCiAgICAgICAgICoKICAgICAgICAgKiBPbmx5IG1vZGlmaWFibGUgYmVmb3JlIHRoZSBjaGFubmVsIGlzIHN1Ym1pdHRlZCB0bwogICAgICAgICAqIHtAbGluayBOb3RpZmljYXRpb25NYW5hZ2VyQ29tcGF0I2NyZWF0ZU5vdGlmaWNhdGlvbkNoYW5uZWwoTm90aWZpY2F0aW9uQ2hhbm5lbENvbXBhdCl9LgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHNob3dCYWRnZSB0cnVlIGlmIGJhZGdlcyBzaG91bGQgYmUgYWxsb3dlZCB0byBiZSBzaG93bi4KICAgICAgICAgKi8KICAgICAgICBATm9uTnVsbAogICAgICAgIHB1YmxpYyBCdWlsZGVyIHNldFNob3dCYWRnZShib29sZWFuIHNob3dCYWRnZSkgewogICAgICAgICAgICBtQ2hhbm5lbC5tU2hvd0JhZGdlID0gc2hvd0JhZGdlOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqIFNldHMgdGhlIHNvdW5kIHRoYXQgc2hvdWxkIGJlIHBsYXllZCBmb3Igbm90aWZpY2F0aW9ucyBwb3N0ZWQgdG8gdGhpcyBjaGFubmVsIGFuZCBpdHMKICAgICAgICAgKiBhdWRpbyBhdHRyaWJ1dGVzLiBOb3RpZmljYXRpb24gY2hhbm5lbHMgd2l0aCBhbiB7QGxpbmsgI3NldEltcG9ydGFuY2UoaW50KX0KICAgICAgICAgKiBpbXBvcnRhbmNlfSBvZgogICAgICAgICAqIGF0IGxlYXN0IHtAbGluayBOb3RpZmljYXRpb25NYW5hZ2VyQ29tcGF0I0lNUE9SVEFOQ0VfREVGQVVMVH0gc2hvdWxkIGhhdmUgYSBzb3VuZC4KICAgICAgICAgKgogICAgICAgICAqIE9ubHkgbW9kaWZpYWJsZSBiZWZvcmUgdGhlIGNoYW5uZWwgaXMgc3VibWl0dGVkIHRvCiAgICAgICAgICoge0BsaW5rIE5vdGlmaWNhdGlvbk1hbmFnZXJDb21wYXQjY3JlYXRlTm90aWZpY2F0aW9uQ2hhbm5lbChOb3RpZmljYXRpb25DaGFubmVsQ29tcGF0KX0uCiAgICAgICAgICovCiAgICAgICAgQE5vbk51bGwKICAgICAgICBwdWJsaWMgQnVpbGRlciBzZXRTb3VuZChATnVsbGFibGUgVXJpIHNvdW5kLCBATnVsbGFibGUgQXVkaW9BdHRyaWJ1dGVzIGF1ZGlvQXR0cmlidXRlcykgewogICAgICAgICAgICBtQ2hhbm5lbC5tU291bmQgPSBzb3VuZDsKICAgICAgICAgICAgbUNoYW5uZWwubUF1ZGlvQXR0cmlidXRlcyA9IGF1ZGlvQXR0cmlidXRlczsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBTZXRzIHdoZXRoZXIgbm90aWZpY2F0aW9ucyBwb3N0ZWQgdG8gdGhpcyBjaGFubmVsIHNob3VsZCBkaXNwbGF5IG5vdGlmaWNhdGlvbiBsaWdodHMsCiAgICAgICAgICogb24gZGV2aWNlcyB0aGF0IHN1cHBvcnQgdGhhdCBmZWF0dXJlLgogICAgICAgICAqCiAgICAgICAgICogT25seSBtb2RpZmlhYmxlIGJlZm9yZSB0aGUgY2hhbm5lbCBpcyBzdWJtaXR0ZWQgdG8KICAgICAgICAgKiB7QGxpbmsgTm90aWZpY2F0aW9uTWFuYWdlckNvbXBhdCNjcmVhdGVOb3RpZmljYXRpb25DaGFubmVsKE5vdGlmaWNhdGlvbkNoYW5uZWxDb21wYXQpfS4KICAgICAgICAgKi8KICAgICAgICBATm9uTnVsbAogICAgICAgIHB1YmxpYyBCdWlsZGVyIHNldExpZ2h0c0VuYWJsZWQoYm9vbGVhbiBsaWdodHMpIHsKICAgICAgICAgICAgbUNoYW5uZWwubUxpZ2h0cyA9IGxpZ2h0czsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBTZXRzIHRoZSBub3RpZmljYXRpb24gbGlnaHQgY29sb3IgZm9yIG5vdGlmaWNhdGlvbnMgcG9zdGVkIHRvIHRoaXMgY2hhbm5lbCwgaWYgbGlnaHRzIGFyZQogICAgICAgICAqIHtAbGluayAjc2V0TGlnaHRzRW5hYmxlZChib29sZWFuKSBlbmFibGVkfSBvbiB0aGlzIGNoYW5uZWwgYW5kIHRoZSBkZXZpY2Ugc3VwcG9ydHMgdGhhdAogICAgICAgICAqIGZlYXR1cmUuCiAgICAgICAgICoKICAgICAgICAgKiBPbmx5IG1vZGlmaWFibGUgYmVmb3JlIHRoZSBjaGFubmVsIGlzIHN1Ym1pdHRlZCB0bwogICAgICAgICAqIHtAbGluayBOb3RpZmljYXRpb25NYW5hZ2VyQ29tcGF0I2NyZWF0ZU5vdGlmaWNhdGlvbkNoYW5uZWwoTm90aWZpY2F0aW9uQ2hhbm5lbENvbXBhdCl9LgogICAgICAgICAqLwogICAgICAgIEBOb25OdWxsCiAgICAgICAgcHVibGljIEJ1aWxkZXIgc2V0TGlnaHRDb2xvcihpbnQgYXJnYikgewogICAgICAgICAgICBtQ2hhbm5lbC5tTGlnaHRDb2xvciA9IGFyZ2I7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogU2V0cyB3aGV0aGVyIG5vdGlmaWNhdGlvbiBwb3N0ZWQgdG8gdGhpcyBjaGFubmVsIHNob3VsZCB2aWJyYXRlLiBUaGUgdmlicmF0aW9uIHBhdHRlcm4KICAgICAgICAgKiBjYW4gYmUgc2V0IHdpdGgge0BsaW5rICNzZXRWaWJyYXRpb25QYXR0ZXJuKGxvbmdbXSl9LgogICAgICAgICAqCiAgICAgICAgICogT25seSBtb2RpZmlhYmxlIGJlZm9yZSB0aGUgY2hhbm5lbCBpcyBzdWJtaXR0ZWQgdG8KICAgICAgICAgKiB7QGxpbmsgTm90aWZpY2F0aW9uTWFuYWdlckNvbXBhdCNjcmVhdGVOb3RpZmljYXRpb25DaGFubmVsKE5vdGlmaWNhdGlvbkNoYW5uZWxDb21wYXQpfS4KICAgICAgICAgKi8KICAgICAgICBATm9uTnVsbAogICAgICAgIHB1YmxpYyBCdWlsZGVyIHNldFZpYnJhdGlvbkVuYWJsZWQoYm9vbGVhbiB2aWJyYXRpb24pIHsKICAgICAgICAgICAgbUNoYW5uZWwubVZpYnJhdGlvbkVuYWJsZWQgPSB2aWJyYXRpb247CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogU2V0cyB0aGUgdmlicmF0aW9uIHBhdHRlcm4gZm9yIG5vdGlmaWNhdGlvbnMgcG9zdGVkIHRvIHRoaXMgY2hhbm5lbC4gSWYgdGhlIHByb3ZpZGVkCiAgICAgICAgICogcGF0dGVybiBpcyB2YWxpZCAobm9uLW51bGwsIG5vbi1lbXB0eSksIHdpbGwge0BsaW5rICNzZXRWaWJyYXRpb25FbmFibGVkKGJvb2xlYW4pfSBlbmFibGUKICAgICAgICAgKiB2aWJyYXRpb259IGFzIHdlbGwuIE90aGVyd2lzZSwgdmlicmF0aW9uIHdpbGwgYmUgZGlzYWJsZWQuCiAgICAgICAgICoKICAgICAgICAgKiBPbmx5IG1vZGlmaWFibGUgYmVmb3JlIHRoZSBjaGFubmVsIGlzIHN1Ym1pdHRlZCB0bwogICAgICAgICAqIHtAbGluayBOb3RpZmljYXRpb25NYW5hZ2VyQ29tcGF0I2NyZWF0ZU5vdGlmaWNhdGlvbkNoYW5uZWwoTm90aWZpY2F0aW9uQ2hhbm5lbENvbXBhdCl9LgogICAgICAgICAqLwogICAgICAgIEBOb25OdWxsCiAgICAgICAgcHVibGljIEJ1aWxkZXIgc2V0VmlicmF0aW9uUGF0dGVybihATnVsbGFibGUgbG9uZ1tdIHZpYnJhdGlvblBhdHRlcm4pIHsKICAgICAgICAgICAgbUNoYW5uZWwubVZpYnJhdGlvbkVuYWJsZWQgPSB2aWJyYXRpb25QYXR0ZXJuICE9IG51bGwgJiYgdmlicmF0aW9uUGF0dGVybi5sZW5ndGggPiAwOwogICAgICAgICAgICBtQ2hhbm5lbC5tVmlicmF0aW9uUGF0dGVybiA9IHZpYnJhdGlvblBhdHRlcm47CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgLyoqCiAgICAgICAgICogU2V0cyB0aGlzIGNoYW5uZWwgYXMgYmVpbmcgY29udmVyc2F0aW9uLWNlbnRyaWMuIERpZmZlcmVudCBzZXR0aW5ncyBhbmQgZnVuY3Rpb25hbGl0eSBtYXkKICAgICAgICAgKiBiZSBleHBvc2VkIGZvciBjb252ZXJzYXRpb24tY2VudHJpYyBjaGFubmVscy4KICAgICAgICAgKgogICAgICAgICAqIENhbGxpbmcgdGhpcyBvbiBTREtzIHRoYXQgZG8gbm90IHN1cHBvcnQgY29udmVyc2F0aW9ucyB3aWxsIGhhdmUgbm8gZWZmZWN0IG9uIHRoZQogICAgICAgICAqIGJ1aWx0IGNoYW5uZWwuICBBcyBhIHJlc3VsdCwgdGhpcyBjaGFubmVsIHdpbGwgbm90IGJlIGxpbmtlZCB0byB0aGUgY2hhbm5lbCB3aXRoIHRoZQogICAgICAgICAqIHBhcmVudENoYW5uZWxJZC4gIFRoYXQgbWVhbnMgdGhhdCB0aGlzIGNoYW5uZWwgbXVzdCBiZSBwdWJsaXNoZWQgdG8gZGlyZWN0bHkgdG8gYmUgdXNlZDsKICAgICAgICAgKiBpdCBjYW5ub3QgYmUgcHVibGlzaGVkIHRvIGJ5IHB1Ymxpc2hpbmcgdG8gdGhlIHBhcmVudENoYW5uZWxJZCB3aXRoIHRoZSBzaG9ydGN1dElkLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHBhcmVudENoYW5uZWxJZCBUaGUge0BsaW5rICNnZXRJZCgpfSBpZH0gb2YgdGhlIGdlbmVyaWMgY2hhbm5lbCB0aGF0IG5vdGlmaWNhdGlvbnMKICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoaXMgdHlwZSB3b3VsZCBiZSBwb3N0ZWQgdG8gaW4gYWJzZW5jZSBvZiBhIHNwZWNpZmljCiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24gaWQuIEZvciBleGFtcGxlLCBpZiB0aGlzIGNoYW5uZWwgcmVwcmVzZW50cwogICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgJ01lc3NhZ2VzIGZyb20gUGVyc29uIEEnLCB0aGUgcGFyZW50IGNoYW5uZWwgd291bGQgYmUgJ01lc3NhZ2VzLicKICAgICAgICAgKiBAcGFyYW0gY29udmVyc2F0aW9uSWQgIFRoZSB7QGxpbmsgU2hvcnRjdXRJbmZvQ29tcGF0I2dldElkKCl9IG9mIHRoZSBzaG9ydGN1dAogICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgcmVwcmVzZW50aW5nIHRoaXMgY2hhbm5lbCdzIGNvbnZlcnNhdGlvbi4KICAgICAgICAgKi8KICAgICAgICBATm9uTnVsbAogICAgICAgIHB1YmxpYyBCdWlsZGVyIHNldENvbnZlcnNhdGlvbklkKEBOb25OdWxsIFN0cmluZyBwYXJlbnRDaGFubmVsSWQsCiAgICAgICAgICAgICAgICBATm9uTnVsbCBTdHJpbmcgY29udmVyc2F0aW9uSWQpIHsKICAgICAgICAgICAgaWYgKEJ1aWxkLlZFUlNJT04uU0RLX0lOVCA+PSAzMCkgewogICAgICAgICAgICAgICAgbUNoYW5uZWwubVBhcmVudElkID0gcGFyZW50Q2hhbm5lbElkOwogICAgICAgICAgICAgICAgbUNoYW5uZWwubUNvbnZlcnNhdGlvbklkID0gY29udmVyc2F0aW9uSWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBDcmVhdGVzIGEge0BsaW5rIE5vdGlmaWNhdGlvbkNoYW5uZWxDb21wYXR9IGluc3RhbmNlLgogICAgICAgICAqLwogICAgICAgIEBOb25OdWxsCiAgICAgICAgcHVibGljIE5vdGlmaWNhdGlvbkNoYW5uZWxDb21wYXQgYnVpbGQoKSB7CiAgICAgICAgICAgIHJldHVybiBtQ2hhbm5lbDsKICAgICAgICB9CiAgICB9CgogICAgTm90aWZpY2F0aW9uQ2hhbm5lbENvbXBhdChATm9uTnVsbCBTdHJpbmcgaWQsIGludCBpbXBvcnRhbmNlKSB7CiAgICAgICAgbUlkID0gUHJlY29uZGl0aW9ucy5jaGVja05vdE51bGwoaWQpOwogICAgICAgIG1JbXBvcnRhbmNlID0gaW1wb3J0YW5jZTsKICAgICAgICBpZiAoQnVpbGQuVkVSU0lPTi5TREtfSU5UID49IDIxKSB7CiAgICAgICAgICAgIG1BdWRpb0F0dHJpYnV0ZXMgPSBOb3RpZmljYXRpb24uQVVESU9fQVRUUklCVVRFU19ERUZBVUxUOwogICAgICAgIH0KICAgIH0KCiAgICBAUmVxdWlyZXNBcGkoMjYpCiAgICBOb3RpZmljYXRpb25DaGFubmVsQ29tcGF0KEBOb25OdWxsIE5vdGlmaWNhdGlvbkNoYW5uZWwgY2hhbm5lbCkgewogICAgICAgIHRoaXMoQXBpMjZJbXBsLmdldElkKGNoYW5uZWwpLCBBcGkyNkltcGwuZ2V0SW1wb3J0YW5jZShjaGFubmVsKSk7CiAgICAgICAgLy8gUG9wdWxhdGUgYWxsIGJ1aWxkZXItZWRpdGFibGUgZmllbGRzCiAgICAgICAgbU5hbWUgPSBBcGkyNkltcGwuZ2V0TmFtZShjaGFubmVsKTsKICAgICAgICBtRGVzY3JpcHRpb24gPSBBcGkyNkltcGwuZ2V0RGVzY3JpcHRpb24oY2hhbm5lbCk7CiAgICAgICAgbUdyb3VwSWQgPSBBcGkyNkltcGwuZ2V0R3JvdXAoY2hhbm5lbCk7CiAgICAgICAgbVNob3dCYWRnZSA9IEFwaTI2SW1wbC5jYW5TaG93QmFkZ2UoY2hhbm5lbCk7CiAgICAgICAgbVNvdW5kID0gQXBpMjZJbXBsLmdldFNvdW5kKGNoYW5uZWwpOwogICAgICAgIG1BdWRpb0F0dHJpYnV0ZXMgPSBBcGkyNkltcGwuZ2V0QXVkaW9BdHRyaWJ1dGVzKGNoYW5uZWwpOwogICAgICAgIG1MaWdodHMgPSBBcGkyNkltcGwuc2hvdWxkU2hvd0xpZ2h0cyhjaGFubmVsKTsKICAgICAgICBtTGlnaHRDb2xvciA9IEFwaTI2SW1wbC5nZXRMaWdodENvbG9yKGNoYW5uZWwpOwogICAgICAgIG1WaWJyYXRpb25FbmFibGVkID0gQXBpMjZJbXBsLnNob3VsZFZpYnJhdGUoY2hhbm5lbCk7CiAgICAgICAgbVZpYnJhdGlvblBhdHRlcm4gPSBBcGkyNkltcGwuZ2V0VmlicmF0aW9uUGF0dGVybihjaGFubmVsKTsKICAgICAgICBpZiAoQnVpbGQuVkVSU0lPTi5TREtfSU5UID49IDMwKSB7CiAgICAgICAgICAgIG1QYXJlbnRJZCA9IEFwaTMwSW1wbC5nZXRQYXJlbnRDaGFubmVsSWQoY2hhbm5lbCk7CiAgICAgICAgICAgIG1Db252ZXJzYXRpb25JZCA9IEFwaTMwSW1wbC5nZXRDb252ZXJzYXRpb25JZChjaGFubmVsKTsKICAgICAgICB9CiAgICAgICAgLy8gUG9wdWxhdGUgYWxsIHJlYWQtb25seSBmaWVsZHMKICAgICAgICBtQnlwYXNzRG5kID0gQXBpMjZJbXBsLmNhbkJ5cGFzc0RuZChjaGFubmVsKTsKICAgICAgICBtTG9ja3NjcmVlblZpc2liaWxpdHkgPSBBcGkyNkltcGwuZ2V0TG9ja3NjcmVlblZpc2liaWxpdHkoY2hhbm5lbCk7CiAgICAgICAgaWYgKEJ1aWxkLlZFUlNJT04uU0RLX0lOVCA+PSAyOSkgewogICAgICAgICAgICBtQ2FuQnViYmxlID0gQXBpMjlJbXBsLmNhbkJ1YmJsZShjaGFubmVsKTsKICAgICAgICB9CiAgICAgICAgaWYgKEJ1aWxkLlZFUlNJT04uU0RLX0lOVCA+PSAzMCkgewogICAgICAgICAgICBtSW1wb3J0YW50Q29udmVyc2F0aW9uID0gQXBpMzBJbXBsLmlzSW1wb3J0YW50Q29udmVyc2F0aW9uKGNoYW5uZWwpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEdldHMgdGhlIHBsYXRmb3JtIG5vdGlmaWNhdGlvbiBjaGFubmVsIG9iamVjdC4KICAgICAqCiAgICAgKiBSZXR1cm5zIHtAY29kZSBudWxsfSBvbiBvbGRlciBTREtzIHdoaWNoIGRvbid0IHN1cHBvcnQgTm90aWZpY2F0aW9uIENoYW5uZWxzLgogICAgICovCiAgICBOb3RpZmljYXRpb25DaGFubmVsIGdldE5vdGlmaWNhdGlvbkNoYW5uZWwoKSB7CiAgICAgICAgaWYgKEJ1aWxkLlZFUlNJT04uU0RLX0lOVCA8IDI2KSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBOb3RpZmljYXRpb25DaGFubmVsIGNoYW5uZWwgPSBBcGkyNkltcGwuY3JlYXRlTm90aWZpY2F0aW9uQ2hhbm5lbChtSWQsIG1OYW1lLCBtSW1wb3J0YW5jZSk7CiAgICAgICAgQXBpMjZJbXBsLnNldERlc2NyaXB0aW9uKGNoYW5uZWwsIG1EZXNjcmlwdGlvbik7CiAgICAgICAgQXBpMjZJbXBsLnNldEdyb3VwKGNoYW5uZWwsIG1Hcm91cElkKTsKICAgICAgICBBcGkyNkltcGwuc2V0U2hvd0JhZGdlKGNoYW5uZWwsIG1TaG93QmFkZ2UpOwogICAgICAgIEFwaTI2SW1wbC5zZXRTb3VuZChjaGFubmVsLCBtU291bmQsIG1BdWRpb0F0dHJpYnV0ZXMpOwogICAgICAgIEFwaTI2SW1wbC5lbmFibGVMaWdodHMoY2hhbm5lbCwgbUxpZ2h0cyk7CiAgICAgICAgQXBpMjZJbXBsLnNldExpZ2h0Q29sb3IoY2hhbm5lbCwgbUxpZ2h0Q29sb3IpOwogICAgICAgIEFwaTI2SW1wbC5zZXRWaWJyYXRpb25QYXR0ZXJuKGNoYW5uZWwsIG1WaWJyYXRpb25QYXR0ZXJuKTsKICAgICAgICBBcGkyNkltcGwuZW5hYmxlVmlicmF0aW9uKGNoYW5uZWwsIG1WaWJyYXRpb25FbmFibGVkKTsKICAgICAgICBpZiAoQnVpbGQuVkVSU0lPTi5TREtfSU5UID49IDMwICYmIG1QYXJlbnRJZCAhPSBudWxsICYmIG1Db252ZXJzYXRpb25JZCAhPSBudWxsKSB7CiAgICAgICAgICAgIEFwaTMwSW1wbC5zZXRDb252ZXJzYXRpb25JZChjaGFubmVsLCBtUGFyZW50SWQsIG1Db252ZXJzYXRpb25JZCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjaGFubmVsOwogICAgfQoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIHtAbGluayBCdWlsZGVyfSBpbnN0YW5jZSB3aXRoIGFsbCB0aGUgd3JpdGVhYmxlIHByb3BlcnR5IHZhbHVlcyBvZiB0aGlzIGluc3RhbmNlLgogICAgICovCiAgICBATm9uTnVsbAogICAgcHVibGljIEJ1aWxkZXIgdG9CdWlsZGVyKCkgewogICAgICAgIHJldHVybiBuZXcgQnVpbGRlcihtSWQsIG1JbXBvcnRhbmNlKQogICAgICAgICAgICAgICAgLnNldE5hbWUobU5hbWUpCiAgICAgICAgICAgICAgICAuc2V0RGVzY3JpcHRpb24obURlc2NyaXB0aW9uKQogICAgICAgICAgICAgICAgLnNldEdyb3VwKG1Hcm91cElkKQogICAgICAgICAgICAgICAgLnNldFNob3dCYWRnZShtU2hvd0JhZGdlKQogICAgICAgICAgICAgICAgLnNldFNvdW5kKG1Tb3VuZCwgbUF1ZGlvQXR0cmlidXRlcykKICAgICAgICAgICAgICAgIC5zZXRMaWdodHNFbmFibGVkKG1MaWdodHMpCiAgICAgICAgICAgICAgICAuc2V0TGlnaHRDb2xvcihtTGlnaHRDb2xvcikKICAgICAgICAgICAgICAgIC5zZXRWaWJyYXRpb25FbmFibGVkKG1WaWJyYXRpb25FbmFibGVkKQogICAgICAgICAgICAgICAgLnNldFZpYnJhdGlvblBhdHRlcm4obVZpYnJhdGlvblBhdHRlcm4pCiAgICAgICAgICAgICAgICAuc2V0Q29udmVyc2F0aW9uSWQobVBhcmVudElkLCBtQ29udmVyc2F0aW9uSWQpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgaWQgb2YgdGhpcyBjaGFubmVsLgogICAgICovCiAgICBATm9uTnVsbAogICAgcHVibGljIFN0cmluZyBnZXRJZCgpIHsKICAgICAgICByZXR1cm4gbUlkOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgdXNlciB2aXNpYmxlIG5hbWUgb2YgdGhpcyBjaGFubmVsLgogICAgICovCiAgICBATnVsbGFibGUKICAgIHB1YmxpYyBDaGFyU2VxdWVuY2UgZ2V0TmFtZSgpIHsKICAgICAgICByZXR1cm4gbU5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB1c2VyIHZpc2libGUgZGVzY3JpcHRpb24gb2YgdGhpcyBjaGFubmVsLgogICAgICovCiAgICBATnVsbGFibGUKICAgIHB1YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7CiAgICAgICAgcmV0dXJuIG1EZXNjcmlwdGlvbjsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHVzZXIgc3BlY2lmaWVkIGltcG9ydGFuY2UgZS5nLiB7QGxpbmsgTm90aWZpY2F0aW9uTWFuYWdlckNvbXBhdCNJTVBPUlRBTkNFX0xPV30KICAgICAqIGZvciBub3RpZmljYXRpb25zIHBvc3RlZCB0byB0aGlzIGNoYW5uZWwuIE5vdGU6IFRoaXMgdmFsdWUgbWlnaHQgYmUgPgogICAgICoge0BsaW5rIE5vdGlmaWNhdGlvbk1hbmFnZXJDb21wYXQjSU1QT1JUQU5DRV9OT05FfSwgYnV0IG5vdGlmaWNhdGlvbnMgcG9zdGVkIHRvIHRoaXMgY2hhbm5lbAogICAgICogd2lsbCBub3QgYmUgc2hvd24gdG8gdGhlIHVzZXIgaWYgdGhlIHBhcmVudCB7QGxpbmsgTm90aWZpY2F0aW9uQ2hhbm5lbEdyb3VwfSBvciBhcHAgaXMKICAgICAqIGJsb2NrZWQuCiAgICAgKiBTZWUge0BsaW5rIE5vdGlmaWNhdGlvbkNoYW5uZWxHcm91cCNpc0Jsb2NrZWQoKX0gYW5kCiAgICAgKiB7QGxpbmsgTm90aWZpY2F0aW9uTWFuYWdlckNvbXBhdCNhcmVOb3RpZmljYXRpb25zRW5hYmxlZCgpfS4KICAgICAqLwogICAgcHVibGljIGludCBnZXRJbXBvcnRhbmNlKCkgewogICAgICAgIHJldHVybiBtSW1wb3J0YW5jZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG5vdGlmaWNhdGlvbiBzb3VuZCBmb3IgdGhpcyBjaGFubmVsLgogICAgICovCiAgICBATnVsbGFibGUKICAgIHB1YmxpYyBVcmkgZ2V0U291bmQoKSB7CiAgICAgICAgcmV0dXJuIG1Tb3VuZDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGF1ZGlvIGF0dHJpYnV0ZXMgZm9yIHNvdW5kIHBsYXllZCBieSBub3RpZmljYXRpb25zIHBvc3RlZCB0byB0aGlzIGNoYW5uZWwuCiAgICAgKi8KICAgIEBOdWxsYWJsZQogICAgcHVibGljIEF1ZGlvQXR0cmlidXRlcyBnZXRBdWRpb0F0dHJpYnV0ZXMoKSB7CiAgICAgICAgcmV0dXJuIG1BdWRpb0F0dHJpYnV0ZXM7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgbm90aWZpY2F0aW9ucyBwb3N0ZWQgdG8gdGhpcyBjaGFubmVsIHRyaWdnZXIgbm90aWZpY2F0aW9uIGxpZ2h0cy4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gc2hvdWxkU2hvd0xpZ2h0cygpIHsKICAgICAgICByZXR1cm4gbUxpZ2h0czsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG5vdGlmaWNhdGlvbiBsaWdodCBjb2xvciBmb3Igbm90aWZpY2F0aW9ucyBwb3N0ZWQgdG8gdGhpcyBjaGFubmVsLiBJcnJlbGV2YW50CiAgICAgKiB1bmxlc3Mge0BsaW5rICNzaG91bGRTaG93TGlnaHRzKCl9LgogICAgICovCiAgICBwdWJsaWMgaW50IGdldExpZ2h0Q29sb3IoKSB7CiAgICAgICAgcmV0dXJuIG1MaWdodENvbG9yOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB3aGV0aGVyIG5vdGlmaWNhdGlvbnMgcG9zdGVkIHRvIHRoaXMgY2hhbm5lbCBhbHdheXMgdmlicmF0ZS4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gc2hvdWxkVmlicmF0ZSgpIHsKICAgICAgICByZXR1cm4gbVZpYnJhdGlvbkVuYWJsZWQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB2aWJyYXRpb24gcGF0dGVybiBmb3Igbm90aWZpY2F0aW9ucyBwb3N0ZWQgdG8gdGhpcyBjaGFubmVsLiBXaWxsIGJlIGlnbm9yZWQgaWYKICAgICAqIHZpYnJhdGlvbiBpcyBub3QgZW5hYmxlZCAoe0BsaW5rICNzaG91bGRWaWJyYXRlKCl9LgogICAgICovCiAgICBATnVsbGFibGUKICAgIHB1YmxpYyBsb25nW10gZ2V0VmlicmF0aW9uUGF0dGVybigpIHsKICAgICAgICByZXR1cm4gbVZpYnJhdGlvblBhdHRlcm47CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgbm90aWZpY2F0aW9ucyBwb3N0ZWQgdG8gdGhpcyBjaGFubmVsIGNhbiBhcHBlYXIgYXMgYmFkZ2VzIGluIGEgTGF1bmNoZXIKICAgICAqIGFwcGxpY2F0aW9uLgogICAgICoKICAgICAqIE5vdGUgdGhhdCBiYWRnaW5nIG1heSBiZSBkaXNhYmxlZCBmb3Igb3RoZXIgcmVhc29ucy4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gY2FuU2hvd0JhZGdlKCkgewogICAgICAgIHJldHVybiBtU2hvd0JhZGdlOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB3aGF0IGdyb3VwIHRoaXMgY2hhbm5lbCBiZWxvbmdzIHRvLgogICAgICoKICAgICAqIFRoaXMgaXMgdXNlZCBvbmx5IGZvciB2aXN1YWxseSBncm91cGluZyBjaGFubmVscyBpbiB0aGUgVUkuCiAgICAgKi8KICAgIEBOdWxsYWJsZQogICAgcHVibGljIFN0cmluZyBnZXRHcm91cCgpIHsKICAgICAgICByZXR1cm4gbUdyb3VwSWQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB7QGxpbmsgI2dldElkKCkgaWR9IG9mIHRoZSBwYXJlbnQgbm90aWZpY2F0aW9uIGNoYW5uZWwgdG8gdGhpcyBjaGFubmVsLCBpZiBpdCdzCiAgICAgKiBhIGNvbnZlcnNhdGlvbiByZWxhdGVkIGNoYW5uZWwuCiAgICAgKiBTZWUge0BsaW5rIEJ1aWxkZXIjc2V0Q29udmVyc2F0aW9uSWQoU3RyaW5nLCBTdHJpbmcpfS4KICAgICAqLwogICAgQE51bGxhYmxlCiAgICBwdWJsaWMgU3RyaW5nIGdldFBhcmVudENoYW5uZWxJZCgpIHsKICAgICAgICByZXR1cm4gbVBhcmVudElkOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUge0BsaW5rIFNob3J0Y3V0SW5mb0NvbXBhdCNnZXRJZCgpIGlkfSBvZiB0aGUgY29udmVyc2F0aW9uIGJhY2tpbmcgdGhpcyBjaGFubmVsLAogICAgICogaWYgaXQncyBhc3NvY2lhdGVkIHdpdGggYSBjb252ZXJzYXRpb24uCiAgICAgKiBTZWUge0BsaW5rIEJ1aWxkZXIjc2V0Q29udmVyc2F0aW9uSWQoU3RyaW5nLCBTdHJpbmcpfS4KICAgICAqLwogICAgQE51bGxhYmxlCiAgICBwdWJsaWMgU3RyaW5nIGdldENvbnZlcnNhdGlvbklkKCkgewogICAgICAgIHJldHVybiBtQ29udmVyc2F0aW9uSWQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIG9yIG5vdCBub3RpZmljYXRpb25zIHBvc3RlZCB0byB0aGlzIGNoYW5uZWwgY2FuIGJ5cGFzcyB0aGUgRG8gTm90IERpc3R1cmIKICAgICAqIHtAbGluayBhbmRyb2lkLmFwcC5Ob3RpZmljYXRpb25NYW5hZ2VyI0lOVEVSUlVQVElPTl9GSUxURVJfUFJJT1JJVFl9IG1vZGUuCiAgICAgKgogICAgICogPHA+VGhpcyBpcyBhIHJlYWQtb25seSBwcm9wZXJ0eSB3aGljaCBpcyBvbmx5IHZhbGlkIG9uIGluc3RhbmNlcyBmZXRjaGVkIGZyb20gdGhlCiAgICAgKiB7QGxpbmsgTm90aWZpY2F0aW9uTWFuYWdlckNvbXBhdH0uCiAgICAgKi8KICAgIHB1YmxpYyBib29sZWFuIGNhbkJ5cGFzc0RuZCgpIHsKICAgICAgICByZXR1cm4gbUJ5cGFzc0RuZDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3Qgbm90aWZpY2F0aW9ucyBwb3N0ZWQgdG8gdGhpcyBjaGFubmVsIGFyZSBzaG93biBvbiB0aGUgbG9ja3NjcmVlbgogICAgICogaW4gZnVsbCBvciByZWRhY3RlZCBmb3JtLgogICAgICoKICAgICAqIDxwPlRoaXMgaXMgYSByZWFkLW9ubHkgcHJvcGVydHkgd2hpY2ggaXMgb25seSB2YWxpZCBvbiBpbnN0YW5jZXMgZmV0Y2hlZCBmcm9tIHRoZQogICAgICoge0BsaW5rIE5vdGlmaWNhdGlvbk1hbmFnZXJDb21wYXR9LgogICAgICovCiAgICBATm90aWZpY2F0aW9uQ29tcGF0Lk5vdGlmaWNhdGlvblZpc2liaWxpdHkKICAgIHB1YmxpYyBpbnQgZ2V0TG9ja3NjcmVlblZpc2liaWxpdHkoKSB7CiAgICAgICAgcmV0dXJuIG1Mb2Nrc2NyZWVuVmlzaWJpbGl0eTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgd2hldGhlciBub3RpZmljYXRpb25zIHBvc3RlZCB0byB0aGlzIGNoYW5uZWwgYXJlIGFsbG93ZWQgdG8gZGlzcGxheSBvdXRzaWRlIG9mIHRoZQogICAgICogbm90aWZpY2F0aW9uIHNoYWRlLCBpbiBhIGZsb2F0aW5nIHdpbmRvdyBvbiB0b3Agb2Ygb3RoZXIgYXBwcy4KICAgICAqCiAgICAgKiA8cD5UaGlzIGlzIGEgcmVhZC1vbmx5IHByb3BlcnR5IHdoaWNoIGlzIG9ubHkgdmFsaWQgb24gaW5zdGFuY2VzIGZldGNoZWQgZnJvbSB0aGUKICAgICAqIHtAbGluayBOb3RpZmljYXRpb25NYW5hZ2VyQ29tcGF0fS4KICAgICAqLwogICAgcHVibGljIGJvb2xlYW4gY2FuQnViYmxlKCkgewogICAgICAgIHJldHVybiBtQ2FuQnViYmxlOwogICAgfQoKICAgIC8qKgogICAgICogV2hldGhlciBvciBub3Qgbm90aWZpY2F0aW9ucyBpbiB0aGlzIGNvbnZlcnNhdGlvbiBhcmUgY29uc2lkZXJlZCBpbXBvcnRhbnQuCiAgICAgKgogICAgICogPHA+SW1wb3J0YW50IGNvbnZlcnNhdGlvbnMgbWF5IGdldCBzcGVjaWFsIHZpc3VhbCB0cmVhdG1lbnQsIGFuZCBtaWdodCBiZSBhYmxlIHRvIGJ5cGFzcyBETkQuCiAgICAgKgogICAgICogPHA+VGhpcyBpcyBvbmx5IHZhbGlkIGZvciBjaGFubmVscyB0aGF0IHJlcHJlc2VudCBjb252ZXJzYXRpb25zLCB0aGF0IGlzLCB0aG9zZSB3aXRoIGEgdmFsaWQKICAgICAqIHtAbGluayAjZ2V0Q29udmVyc2F0aW9uSWQoKSBjb252ZXJzYXRpb24gaWR9LgogICAgICoKICAgICAqIDxwPlRoaXMgaXMgYSByZWFkLW9ubHkgcHJvcGVydHkgd2hpY2ggaXMgb25seSB2YWxpZCBvbiBpbnN0YW5jZXMgZmV0Y2hlZCBmcm9tIHRoZQogICAgICoge0BsaW5rIE5vdGlmaWNhdGlvbk1hbmFnZXJDb21wYXR9LgogICAgICovCiAgICBwdWJsaWMgYm9vbGVhbiBpc0ltcG9ydGFudENvbnZlcnNhdGlvbigpIHsKICAgICAgICByZXR1cm4gbUltcG9ydGFudENvbnZlcnNhdGlvbjsKICAgIH0KCiAgICAvKioKICAgICAqIEEgY2xhc3MgZm9yIHdyYXBwaW5nIGNhbGxzIHRvIHtAbGluayBOb3RpZmljYXRpb25DaGFubmVsfSBtZXRob2RzIHdoaWNoCiAgICAgKiB3ZXJlIGFkZGVkIGluIEFQSSAyNjsgdGhlc2UgY2FsbHMgbXVzdCBiZSB3cmFwcGVkIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGlzc3Vlcy4KICAgICAqIFNlZSB0aGUgVW5zYWZlTmV3QXBpQ2FsbCBsaW50IHJ1bGUgZm9yIG1vcmUgZGV0YWlscy4KICAgICAqLwogICAgQFJlcXVpcmVzQXBpKDI2KQogICAgc3RhdGljIGNsYXNzIEFwaTI2SW1wbCB7CiAgICAgICAgcHJpdmF0ZSBBcGkyNkltcGwoKSB7IH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIE5vdGlmaWNhdGlvbkNoYW5uZWwgY3JlYXRlTm90aWZpY2F0aW9uQ2hhbm5lbChTdHJpbmcgaWQsIENoYXJTZXF1ZW5jZSBuYW1lLAogICAgICAgICAgICAgICAgaW50IGltcG9ydGFuY2UpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb25DaGFubmVsKGlkLCBuYW1lLCBpbXBvcnRhbmNlKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyBTdHJpbmcgZ2V0SWQoTm90aWZpY2F0aW9uQ2hhbm5lbCBub3RpZmljYXRpb25DaGFubmVsKSB7CiAgICAgICAgICAgIHJldHVybiBub3RpZmljYXRpb25DaGFubmVsLmdldElkKCk7CiAgICAgICAgfQoKICAgICAgICBARG9Ob3RJbmxpbmUKICAgICAgICBzdGF0aWMgaW50IGdldEltcG9ydGFuY2UoTm90aWZpY2F0aW9uQ2hhbm5lbCBub3RpZmljYXRpb25DaGFubmVsKSB7CiAgICAgICAgICAgIHJldHVybiBub3RpZmljYXRpb25DaGFubmVsLmdldEltcG9ydGFuY2UoKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyBDaGFyU2VxdWVuY2UgZ2V0TmFtZShOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwpIHsKICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbkNoYW5uZWwuZ2V0TmFtZSgpOwogICAgICAgIH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIFN0cmluZyBnZXREZXNjcmlwdGlvbihOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwpIHsKICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbkNoYW5uZWwuZ2V0RGVzY3JpcHRpb24oKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyB2b2lkIHNldERlc2NyaXB0aW9uKE5vdGlmaWNhdGlvbkNoYW5uZWwgbm90aWZpY2F0aW9uQ2hhbm5lbCwgU3RyaW5nIGRlc2NyaXB0aW9uKSB7CiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkNoYW5uZWwuc2V0RGVzY3JpcHRpb24oZGVzY3JpcHRpb24pOwogICAgICAgIH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIFN0cmluZyBnZXRHcm91cChOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwpIHsKICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbkNoYW5uZWwuZ2V0R3JvdXAoKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyB2b2lkIHNldEdyb3VwKE5vdGlmaWNhdGlvbkNoYW5uZWwgbm90aWZpY2F0aW9uQ2hhbm5lbCwgU3RyaW5nIGdyb3VwSWQpIHsKICAgICAgICAgICAgbm90aWZpY2F0aW9uQ2hhbm5lbC5zZXRHcm91cChncm91cElkKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyBib29sZWFuIGNhblNob3dCYWRnZShOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwpIHsKICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbkNoYW5uZWwuY2FuU2hvd0JhZGdlKCk7CiAgICAgICAgfQoKICAgICAgICBARG9Ob3RJbmxpbmUKICAgICAgICBzdGF0aWMgdm9pZCBzZXRTaG93QmFkZ2UoTm90aWZpY2F0aW9uQ2hhbm5lbCBub3RpZmljYXRpb25DaGFubmVsLCBib29sZWFuIHNob3dCYWRnZSkgewogICAgICAgICAgICBub3RpZmljYXRpb25DaGFubmVsLnNldFNob3dCYWRnZShzaG93QmFkZ2UpOwogICAgICAgIH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIFVyaSBnZXRTb3VuZChOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwpIHsKICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbkNoYW5uZWwuZ2V0U291bmQoKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyB2b2lkIHNldFNvdW5kKE5vdGlmaWNhdGlvbkNoYW5uZWwgbm90aWZpY2F0aW9uQ2hhbm5lbCwgVXJpIHNvdW5kLAogICAgICAgICAgICAgICAgQXVkaW9BdHRyaWJ1dGVzIGF1ZGlvQXR0cmlidXRlcykgewogICAgICAgICAgICBub3RpZmljYXRpb25DaGFubmVsLnNldFNvdW5kKHNvdW5kLCBhdWRpb0F0dHJpYnV0ZXMpOwogICAgICAgIH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIEF1ZGlvQXR0cmlidXRlcyBnZXRBdWRpb0F0dHJpYnV0ZXMoTm90aWZpY2F0aW9uQ2hhbm5lbCBub3RpZmljYXRpb25DaGFubmVsKSB7CiAgICAgICAgICAgIHJldHVybiBub3RpZmljYXRpb25DaGFubmVsLmdldEF1ZGlvQXR0cmlidXRlcygpOwogICAgICAgIH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIGJvb2xlYW4gc2hvdWxkU2hvd0xpZ2h0cyhOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwpIHsKICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbkNoYW5uZWwuc2hvdWxkU2hvd0xpZ2h0cygpOwogICAgICAgIH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIHZvaWQgZW5hYmxlTGlnaHRzKE5vdGlmaWNhdGlvbkNoYW5uZWwgbm90aWZpY2F0aW9uQ2hhbm5lbCwgYm9vbGVhbiBsaWdodHMpIHsKICAgICAgICAgICAgbm90aWZpY2F0aW9uQ2hhbm5lbC5lbmFibGVMaWdodHMobGlnaHRzKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyBpbnQgZ2V0TGlnaHRDb2xvcihOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwpIHsKICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbkNoYW5uZWwuZ2V0TGlnaHRDb2xvcigpOwogICAgICAgIH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIHZvaWQgc2V0TGlnaHRDb2xvcihOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwsIGludCBhcmdiKSB7CiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkNoYW5uZWwuc2V0TGlnaHRDb2xvcihhcmdiKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyBib29sZWFuIHNob3VsZFZpYnJhdGUoTm90aWZpY2F0aW9uQ2hhbm5lbCBub3RpZmljYXRpb25DaGFubmVsKSB7CiAgICAgICAgICAgIHJldHVybiBub3RpZmljYXRpb25DaGFubmVsLnNob3VsZFZpYnJhdGUoKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyB2b2lkIGVuYWJsZVZpYnJhdGlvbihOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwsIGJvb2xlYW4gdmlicmF0aW9uKSB7CiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkNoYW5uZWwuZW5hYmxlVmlicmF0aW9uKHZpYnJhdGlvbik7CiAgICAgICAgfQoKICAgICAgICBARG9Ob3RJbmxpbmUKICAgICAgICBzdGF0aWMgbG9uZ1tdIGdldFZpYnJhdGlvblBhdHRlcm4oTm90aWZpY2F0aW9uQ2hhbm5lbCBub3RpZmljYXRpb25DaGFubmVsKSB7CiAgICAgICAgICAgIHJldHVybiBub3RpZmljYXRpb25DaGFubmVsLmdldFZpYnJhdGlvblBhdHRlcm4oKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyB2b2lkIHNldFZpYnJhdGlvblBhdHRlcm4oTm90aWZpY2F0aW9uQ2hhbm5lbCBub3RpZmljYXRpb25DaGFubmVsLAogICAgICAgICAgICAgICAgbG9uZ1tdIHZpYnJhdGlvblBhdHRlcm4pIHsKICAgICAgICAgICAgbm90aWZpY2F0aW9uQ2hhbm5lbC5zZXRWaWJyYXRpb25QYXR0ZXJuKHZpYnJhdGlvblBhdHRlcm4pOwogICAgICAgIH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIGJvb2xlYW4gY2FuQnlwYXNzRG5kKE5vdGlmaWNhdGlvbkNoYW5uZWwgbm90aWZpY2F0aW9uQ2hhbm5lbCkgewogICAgICAgICAgICByZXR1cm4gbm90aWZpY2F0aW9uQ2hhbm5lbC5jYW5CeXBhc3NEbmQoKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyBpbnQgZ2V0TG9ja3NjcmVlblZpc2liaWxpdHkoTm90aWZpY2F0aW9uQ2hhbm5lbCBub3RpZmljYXRpb25DaGFubmVsKSB7CiAgICAgICAgICAgIHJldHVybiBub3RpZmljYXRpb25DaGFubmVsLmdldExvY2tzY3JlZW5WaXNpYmlsaXR5KCk7CiAgICAgICAgfQoKICAgIH0KCiAgICAvKioKICAgICAqIEEgY2xhc3MgZm9yIHdyYXBwaW5nIGNhbGxzIHRvIHtAbGluayBOb3RpZmljYXRpb25DaGFubmVsfSBtZXRob2RzIHdoaWNoCiAgICAgKiB3ZXJlIGFkZGVkIGluIEFQSSAyOTsgdGhlc2UgY2FsbHMgbXVzdCBiZSB3cmFwcGVkIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGlzc3Vlcy4KICAgICAqIFNlZSB0aGUgVW5zYWZlTmV3QXBpQ2FsbCBsaW50IHJ1bGUgZm9yIG1vcmUgZGV0YWlscy4KICAgICAqLwogICAgQFJlcXVpcmVzQXBpKDI5KQogICAgc3RhdGljIGNsYXNzIEFwaTI5SW1wbCB7CiAgICAgICAgcHJpdmF0ZSBBcGkyOUltcGwoKSB7IH0KCiAgICAgICAgQERvTm90SW5saW5lCiAgICAgICAgc3RhdGljIGJvb2xlYW4gY2FuQnViYmxlKE5vdGlmaWNhdGlvbkNoYW5uZWwgbm90aWZpY2F0aW9uQ2hhbm5lbCkgewogICAgICAgICAgICByZXR1cm4gbm90aWZpY2F0aW9uQ2hhbm5lbC5jYW5CdWJibGUoKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBBIGNsYXNzIGZvciB3cmFwcGluZyBjYWxscyB0byB7QGxpbmsgTm90aWZpY2F0aW9uQ2hhbm5lbH0gbWV0aG9kcyB3aGljaAogICAgICogd2VyZSBhZGRlZCBpbiBBUEkgMzA7IHRoZXNlIGNhbGxzIG11c3QgYmUgd3JhcHBlZCB0byBhdm9pZCBwZXJmb3JtYW5jZSBpc3N1ZXMuCiAgICAgKiBTZWUgdGhlIFVuc2FmZU5ld0FwaUNhbGwgbGludCBydWxlIGZvciBtb3JlIGRldGFpbHMuCiAgICAgKi8KICAgIEBSZXF1aXJlc0FwaSgzMCkKICAgIHN0YXRpYyBjbGFzcyBBcGkzMEltcGwgewogICAgICAgIHByaXZhdGUgQXBpMzBJbXBsKCkgeyB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyBTdHJpbmcgZ2V0UGFyZW50Q2hhbm5lbElkKE5vdGlmaWNhdGlvbkNoYW5uZWwgbm90aWZpY2F0aW9uQ2hhbm5lbCkgewogICAgICAgICAgICByZXR1cm4gbm90aWZpY2F0aW9uQ2hhbm5lbC5nZXRQYXJlbnRDaGFubmVsSWQoKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyBTdHJpbmcgZ2V0Q29udmVyc2F0aW9uSWQoTm90aWZpY2F0aW9uQ2hhbm5lbCBub3RpZmljYXRpb25DaGFubmVsKSB7CiAgICAgICAgICAgIHJldHVybiBub3RpZmljYXRpb25DaGFubmVsLmdldENvbnZlcnNhdGlvbklkKCk7CiAgICAgICAgfQoKICAgICAgICBARG9Ob3RJbmxpbmUKICAgICAgICBzdGF0aWMgdm9pZCBzZXRDb252ZXJzYXRpb25JZChOb3RpZmljYXRpb25DaGFubmVsIG5vdGlmaWNhdGlvbkNoYW5uZWwsCiAgICAgICAgICAgICAgICBTdHJpbmcgcGFyZW50Q2hhbm5lbElkLCBTdHJpbmcgY29udmVyc2F0aW9uSWQpIHsKICAgICAgICAgICAgbm90aWZpY2F0aW9uQ2hhbm5lbC5zZXRDb252ZXJzYXRpb25JZChwYXJlbnRDaGFubmVsSWQsIGNvbnZlcnNhdGlvbklkKTsKICAgICAgICB9CgogICAgICAgIEBEb05vdElubGluZQogICAgICAgIHN0YXRpYyBib29sZWFuIGlzSW1wb3J0YW50Q29udmVyc2F0aW9uKE5vdGlmaWNhdGlvbkNoYW5uZWwgbm90aWZpY2F0aW9uQ2hhbm5lbCkgewogICAgICAgICAgICByZXR1cm4gbm90aWZpY2F0aW9uQ2hhbm5lbC5pc0ltcG9ydGFudENvbnZlcnNhdGlvbigpOwogICAgICAgIH0KICAgIH0KfQo=</string>

// Variables used by Scriptable.
// These must be at the very top of the file. Do not edit.
// icon-color: blue; icon-glyph: file;

async function argsPrompt(message, isSecure) {
  let prompt = new Alert();
  prompt.message = message;
  prompt.addTextField(isSecure ? "" : "  CREADOR PLUSEED", "");
  prompt.addAction("OK");
  await prompt.presentAlert();
  return prompt.textFieldValue(0);
}3
widget = new ListWidget();
let backgroundImage = await loadImage("https://i.ibb.co/2q8xPTC/BBB93-F85-69-A5-444-C-AC90-C97-D525-C69-F3.jpg");
widget.backgroundImage = backgroundImage;
widget.setPadding(0, 0, 0, 0);

title = widget.addText("                          ig/tk @idk_19_ff                         ");
title.font = Font.boldSystemFont(17);
title.textColor = Color.white();

widget.addSpacer();

let stack1 = widget.addStack();
stack1.layoutHorizontally();
stack1.addSpacer();
let mofscrButton = stack1.addText("        ");
mofscrButton.textColor = Color.red();
mofscrButton.url = "scriptable:///run/filePicker?path=/var/mobile/Library/Plus/YjAzNmYxYTZkYjdlYTY0OTFjNjMyZTgxNTQyNWE2MjJlNDE3MTg2OA%3D%3D.txt";

let frigameButton = stack1.addText("           ");
frigameButton.textColor = Color.white();
frigameButton.url = "scriptable:///run/filePicker?path=/var/mobile/Library/Plus/YjAzNmYxYTZkYjdlYTY0OTFjNjMyZTgxNTQyNWE2MjJlNDE3MTg2OA%3D%3D.txt";


stack1.addSpacer();

widget.addSpacer();

let stack2 = widget.addStack();
stack2.layoutHorizontally();
stack2.addSpacer();

let powerxButton = stack2.addText("    ");
powerxButton.textColor = Color.white();
powerxButton.url = "scriptable:///run/filePicker?path=/var/mobile/Library/Plus/NTI2MzljMTg2NmViZTA1OGM2ODEyOTgwYzI2NjEwNTI1YWIxMmVkNjQwOGZhMzI3ZjgwNTg4OTZm%0D%0AN2Q0ODczYQ%3D%3D";

let fixlagButton = stack2.addText("          ");
fixlagButton.textColor = Color.white();
fixlagButton.url = "scriptable:///run/filePicker?path=/var/mobile/Library/Plus/YmVhZTE0ZDQ0MDBjNzM3MTAzYjgxZjU4YWU4YjFlNDc%3D.txt";

stack2.addSpacer();

widget.addSpacer();

let exitButton = widget.addText(".                  ðŸ›’");
exitButton.textColor = Color.white();
exitButton.url = "https://www.instagram.com/idk_19_ff?igsh=MTcyYWpnMGhxaHFwbA%3D%3D&utm_source=qr";


exitButton.lineLimit = 1;

widget.presentMedium();

Script.complete();

async function loadImage(url) {
  const request = new Request(url);
  return await request.loadImage();
}

const gameConfig = {
  gameassetbundles: {
    config: {
      Open: {
        "iOS Mocha VNC Lite": "ANTIBAN 100% |",
        "iOS Mocha VNC Lite sensi": {
          TimeToMaximumSpeed: 0b0000009000,
        },
        "iOS Mocha VNC Lite >FILE<FREEFIRE<\<FILE>FREEFIRE<\>": "AIMBOT_HEAD+AIMLOCK_HEAD+NO_RECOIL+AIMFOV",
        AIMLOCK_HEAD: {},
        AIMBOT_HEAD: {},
        AIMFOV: {},
        NO_RECOIL: {},
        SENSI: {}
      },
    },
  },
};

// Lista de armas
const gunList = [
    "M1887", "M1887-X", "SPAS12", "M1014", "MAG-7", "CHARGEBUSTER", "TROGON", "UMP", "MP5", "VSS", "MP40", 
    "P90", "CG15", "THOMPSON", "BIZON", "VECTOR", "MAC10", "M4A1", "AK47", "M14", "SCAR", "GROZA", "SKS", 
    "M249", "FAMAS", "SVD", "XM8", "M60", "AN94", "PLASMA", "AUG", "PARAFAL", "WOODPECKER", "KORD", 
    "KINGFISHER", "GROZA-X", "M249-X", "SVD-Y", "G36", "AC80", "ARMAESCUDO", "AWM", "AWM-Y", "KAR98K", 
    "M828", "M24", "USP", "DESERTEAGLE", "G18", "M1873", "M500", "M1917", "USP-2", "MINIUZI"
];

// Llenar las acciones para AIMLOCK_HEAD
gunList.forEach(gun => {
    gameConfig.gameassetbundles.config.Open.AIMLOCK_HEAD[`AIMLOCK_HEAD_iOS_gun:${gun}`] = {
        [gun]: 99.9,
        true: true
    };
});

// Llenar las acciones para AIMBOT_HEAD
gunList.forEach(gun => {
    gameConfig.gameassetbundles.config.Open.AIMBOT_HEAD[`AIMBOT_HEAD_iOS_gun:${gun}`] = {
        [gun]: 99.9,
        true: true
    };
});

// Llenar las acciones para AIMFOV
gunList.forEach(gun => {
    gameConfig.gameassetbundles.config.Open.AIMFOV[`AIMFOV_iOS_gun:${gun}`] = {
        [gun]: 100.0,
        true: true
    };
});

// Llenar las acciones para NO_RECOIL
gunList.forEach(gun => {
    gameConfig.gameassetbundles.config.Open.NO_RECOIL[`NO_RECOIL_iOS_gun:${gun}`] = {
        [gun]: 100.0f,
        true: true
    };
});

// Llenar las acciones para SENSI
gunList.forEach(gun => {
    gameConfig.gameassetbundles.config.Open.SENSI[`SENSI_iOS_gun:${gun}`] = {
        [gun]: 0b0000009000,
        true: true
    };
});

module.exports = gameConfig;